import type { ClientBase } from 'pg';
export type DBMigration = {
    name?: string;
    pg?: ReadonlyArray<string>;
    sqlite3?: ReadonlyArray<string>;
};
/** Get the current DB version, or 0 if table is missing/empty. */
export declare function getCurrentSysDBVersion(client: ClientBase, schemaName?: string): Promise<number>;
export type PgMigratorOptions = {
    ignoreErrorCodes?: ReadonlySet<string>;
    onWarn?: (msg: string, err?: unknown) => void;
};
/**
 * Apply all migrations greater than the current DB version.
 * - Reads current version (0 if table missing/empty)
 * - Applies migrations in order
 * - Updates dbos_migrations.version at the end
 * - Warns if current version > max known (likely newer software concurrently)
 */
export declare function runSysMigrationsPg(client: ClientBase, allMigrations: ReadonlyArray<DBMigration>, schemaName?: string, opts?: PgMigratorOptions): Promise<{
    fromVersion: number;
    toVersion: number;
    appliedCount: number;
    skippedCount: number;
    notice?: string;
}>;
//# sourceMappingURL=migration_runner.d.ts.map